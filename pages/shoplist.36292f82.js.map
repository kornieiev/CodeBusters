{"mappings":"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","sources":["src/components/header.js"],"sourcesContent":["const links = document.querySelectorAll('.navigation a');\nconst burgerEl = document.querySelector('.menu-burger-link');\nconst closeEl = document.querySelector('.menu-close-link');\nconst dropMenuEl = document.querySelector('.dropdown-menu');\nconst switchEl = document.getElementById('switch-theme');\nconst authBtn = document.querySelector(\".authorization-btn.dropdown\");\nconst closeFirstModalBtn = document.querySelector(\"[data-modal-close-up]\");\nconst closeSecondModalBtn = document.querySelector(\"[data-modal-close-in]\");\nconst signUpBtn = document.querySelector(\".sign-link.up\");\nconst signInBtn = document.querySelector(\".sign-link.in\");\nconst modalUp = document.querySelector(\"[data-modal-up]\");\nconst modalIn = document.querySelector(\"[data-modal-in]\");\nconst signUpForm = document.querySelector(\".sign-up-form\");\nconst signInForm = document.querySelector(\".sign-up-form.in\");\nconst userNameEls = document.querySelectorAll(\".user-name\");\nconst logOutBtn = document.querySelector(\".logout-button.dropdown\");\nconst authEl = document.querySelector(\".dropdown-authorized\");\nconst authHeaderBtn = document.querySelector(\".authorization-btn.header\");\nconst autSubmitHeaderBtn = document.querySelector(\".user-account-button\");\nconst navMenuEl = document.querySelector(\".navigation-menu\");\nconst logOutHeader = document.querySelector(\".logout-group\");\n\nlet savedTheme = localStorage.getItem(\"ui-theme\");\nlet KEY = 'userData';\nlet userInfo = {};\nlet submitInfo = {};\nlet feedback;\n\nfunction toggleActivePage (event) {\n    links.forEach(link => {\n        if (link.href === window.location.href) {\n            link.classList.add('active');\n        } else {\n            link.classList.remove('active');\n        }\n    });\n}\n\nfunction toggleSwitchEl() {\n    switchEl.classList.toggle('checked');\n    localStorage.setItem(\"ui-theme\", switchEl.classList.contains('checked') ? 'dark' : 'light');\n}\n  \nswitchEl.classList.toggle('checked', savedTheme === 'dark');\n\n\nfunction initUser () {\n    userNameEls.forEach((element) => {\n        element.textContent = userInfo.user_name;\n    });\n}\n\nfunction setToLocalStorage (userInfo) {\n    let userInfoJSON = JSON.stringify(userInfo);\n    localStorage.setItem(KEY, userInfoJSON);\n}\n\nfunction collectFormData(event) {\n    event.preventDefault();\n    document.body.classList.remove('no-scroll');\n    setSubmitStatus();\n\n    const inputs = signUpForm.querySelectorAll('.modal-input');\n    inputs.forEach((input) => {\n        userInfo[input.id] = input.value;\n    });\n    setToLocalStorage (userInfo);\n    signUpForm.reset();\n    initUser ();\n    authHeaderBtn.classList.add('visually-hidden');\n    autSubmitHeaderBtn.classList.remove('visually-hidden');\n    \n\n    closeModal();\n    toggleDropMenu();\n    \n    if (window.innerWidth > 768) {\n        closeEl.classList.add('visually-hidden');\n        navMenuEl.classList.remove('visually-hidden');\n\n    }\n    return userInfo;\n  }\n\nfunction toggleModalWindow () {\n    modalUp.classList.remove('is-hidden');\n    document.body.classList.add('no-scroll');\n}\n\nfunction openSecondModal (event) {\n    if (event) {\n        event.preventDefault();\n    }\n    modalUp.classList.add('is-hidden');\n    modalIn.classList.remove('is-hidden');\n    document.body.classList.add('no-scroll');\n}\n\nfunction openFirstModal (event) {\n    if (event) {\n        event.preventDefault();\n    }\n    modalUp.classList.remove('is-hidden');\n    modalIn.classList.add('is-hidden');\n    document.body.classList.add('no-scroll');\n    \n}\n\nfunction closeModal () {\n    modalUp.classList.add('is-hidden');\n    modalIn.classList.add('is-hidden');\n    signUpForm.reset();\n    signInForm.reset();\n    document.body.classList.remove('no-scroll');\n}\n\nfunction toggleDropMenu () {\n    dropMenuEl.classList.toggle('visually-hidden');\n    burgerEl.classList.toggle('visually-hidden');\n    closeEl.classList.toggle('visually-hidden');\n    if (dropMenuEl.classList.contains('visually-hidden')) {\n        document.body.classList.add('no-scroll');\n    } else {\n        document.body.classList.remove('no-scroll');\n    };\n\n    \n}\n\nfunction setSubmitStatus () {\n    sessionStorage.setItem('statusSubmitted', 'true');\n}\n\nfunction checkUserData (event) {\n    event.preventDefault();\n    const inputs = signInForm.querySelectorAll('.modal-input');\n  \n    inputs.forEach((input) => {\n        submitInfo[input.id] = input.value.trim();\n    });\n    try {\n        const data = localStorage.getItem(KEY);\n        if (!data) return;\n        feedback = JSON.parse(data);\n    } catch (error) {\n        console.error(error.message);\n      }\n     \n    if (submitInfo.user_name === feedback.user_name && submitInfo.user_password === feedback.user_password) {\n        // isSignUpFormSubmitted = true;\n        userInfo.user_name = submitInfo.user_name;\n        if (window.innerWidth > 768) {\n        authHeaderBtn.classList.toggle('visually-hidden');\n        autSubmitHeaderBtn.classList.toggle('visually-hidden');\n        navMenuEl.classList.remove('visually-hidden');\n        }\n        closeModal();\n        initUser ();\n        setSubmitStatus();\n    }\n}\n\nfunction openMenu (event) {\n    event.preventDefault();\n    let status = '';\n    try {\n        const data = localStorage.getItem(KEY);\n        feedback = JSON.parse(data);\n        status = sessionStorage.getItem('statusSubmitted');\n        if (status === 'true') {\n\n            authBtn.classList.add('visually-hidden');\n            authEl.classList.toggle('visually-hidden');\n            userInfo.user_name = feedback.user_name;\n            initUser();\n            toggleDropMenu();\n\n        } else {\n            const data = localStorage.getItem(KEY);\n            if (!data) {\n                toggleDropMenu();\n            } else {\n                openSecondModal();\n            } \n        }\n    } catch {\n        console.error(error.message);\n    }\n}\n\nfunction openMenuTablet (event) {\n    event.preventDefault();\n    let status = '';\n    try {\n        const data = localStorage.getItem(KEY);\n        feedback = JSON.parse(data);\n        status = sessionStorage.getItem('statusSubmitted');\n        if (status === 'true') {\n            userInfo.user_name = feedback.user_name;\n            initUser();\n            navMenuEl.classList.remove('visually-hidden');\n            authHeaderBtn.classList.add('visually-hidden');\n            autSubmitHeaderBtn.classList.remove('visually-hidden');\n            \n        } else {\n            sessionStorage.removeItem('classChanges');\n            const data = localStorage.getItem(KEY);\n            if (!data) {\n                openFirstModal();\n            } else {\n                openSecondModal();\n            } \n        }\n    } catch {\n        console.error(error.message);\n    }\n}\n\nfunction checkAuth () {\n    let status = '';\n    try {\n        const data = localStorage.getItem(KEY);\n        feedback = JSON.parse(data);\n        status = sessionStorage.getItem('statusSubmitted');\n        if (status === 'true') {\n            userInfo.user_name = feedback.user_name;\n            initUser();\n            authHeaderBtn.classList.add('visually-hidden');\n            autSubmitHeaderBtn.classList.remove('visually-hidden');\n            \n        } \n    } catch {\n        console.error(error.message);\n    }\n}\n\nfunction makeLogOut () {\n    \n    // localStorage.clear();\n    sessionStorage.clear();\n    userInfo = {};\n    submitInfo = {};\n    if (window.innerWidth < 768) {\n        toggleDropMenu();  \n    }\n    \n    authBtn.classList.toggle('visually-hidden');\n    authEl.classList.toggle('visually-hidden');\n    closeEl.classList.add('visually-hidden');\n    logOutHeader.classList.add('visually-hidden');\n    authHeaderBtn.classList.toggle('visually-hidden');\n}\n\nfunction askLogout (event) {\n    autSubmitHeaderBtn.classList.add('visually-hidden');\n    logOutHeader.classList.remove('visually-hidden');\n}\n\nfunction saveClassChanges() {\n    const elements = document.querySelectorAll('.save');\n    const classList = Array.from(elements).map((element) => element.classList.value);\n    sessionStorage.setItem('classChanges', JSON.stringify(classList));\n}\n  \nfunction restoreClassChanges() {\n    \n    const data = localStorage.getItem('userData');\n    const usersName = JSON.parse(data);\n    if (usersName) {\n        userInfo.user_name = usersName.user_name;\n        initUser ();\n      \n    }\n\n    const savedChanges = sessionStorage.getItem('classChanges');\n    if (savedChanges) {\n      const classList = JSON.parse(savedChanges);\n      const elements = document.querySelectorAll('.save');\n      elements.forEach((element, index) => {\n        element.classList.value = classList[index];\n      });\n    }\n}\n\nfunction doingLogOut (event) {\n    if (event.target.closest('.logout-button.header') || event.target.matches('.asking-logout.light')) {\n        logOutHeader.classList.add('visually-hidden');\n        autSubmitHeaderBtn.classList.remove('visually-hidden');\n        authHeaderBtn.classList.add('visually-hidden');\n    } else {\n        makeLogOut();\n    }\n}\n\nwindow.addEventListener('DOMContentLoaded', () => {\n    toggleActivePage();\n    restoreClassChanges();\n});\nauthBtn.addEventListener('click', openFirstModal);\n// authEl.addEventListener('click', openFirstModal);\nburgerEl.addEventListener('click', openMenu);\nswitchEl.addEventListener('change', toggleSwitchEl);\nsignUpBtn.addEventListener('click', openSecondModal);\nsignInBtn.addEventListener('click', openFirstModal);\ncloseFirstModalBtn.addEventListener('click', closeModal);\ncloseSecondModalBtn.addEventListener('click', closeModal);\nsignUpForm.addEventListener('submit', collectFormData);\nsignInForm.addEventListener('submit', checkUserData);\nlogOutBtn.addEventListener('click', makeLogOut);\nauthHeaderBtn.addEventListener('click', openMenuTablet);\nautSubmitHeaderBtn.addEventListener('click', askLogout);\nlogOutHeader.addEventListener('click', doingLogOut);\n\nwindow.addEventListener('beforeunload', saveClassChanges);\n"],"names":["$ec02d5e098e8e7bc$var$feedback","$ec02d5e098e8e7bc$var$links","document","querySelectorAll","$ec02d5e098e8e7bc$var$burgerEl","querySelector","$ec02d5e098e8e7bc$var$closeEl","$ec02d5e098e8e7bc$var$dropMenuEl","$ec02d5e098e8e7bc$var$switchEl","getElementById","$ec02d5e098e8e7bc$var$authBtn","$ec02d5e098e8e7bc$var$closeFirstModalBtn","$ec02d5e098e8e7bc$var$closeSecondModalBtn","$ec02d5e098e8e7bc$var$signUpBtn","$ec02d5e098e8e7bc$var$signInBtn","$ec02d5e098e8e7bc$var$modalUp","$ec02d5e098e8e7bc$var$modalIn","$ec02d5e098e8e7bc$var$signUpForm","$ec02d5e098e8e7bc$var$signInForm","$ec02d5e098e8e7bc$var$userNameEls","$ec02d5e098e8e7bc$var$logOutBtn","$ec02d5e098e8e7bc$var$authEl","$ec02d5e098e8e7bc$var$authHeaderBtn","$ec02d5e098e8e7bc$var$autSubmitHeaderBtn","$ec02d5e098e8e7bc$var$navMenuEl","$ec02d5e098e8e7bc$var$logOutHeader","$ec02d5e098e8e7bc$var$savedTheme","localStorage","getItem","$ec02d5e098e8e7bc$var$KEY","$ec02d5e098e8e7bc$var$userInfo","$ec02d5e098e8e7bc$var$submitInfo","$ec02d5e098e8e7bc$var$initUser","forEach","element","textContent","user_name","$ec02d5e098e8e7bc$var$openSecondModal","event","preventDefault","classList","add","remove","body","$ec02d5e098e8e7bc$var$openFirstModal","$ec02d5e098e8e7bc$var$closeModal","reset","$ec02d5e098e8e7bc$var$toggleDropMenu","toggle","contains","$ec02d5e098e8e7bc$var$setSubmitStatus","sessionStorage","setItem","$ec02d5e098e8e7bc$var$makeLogOut","clear","window","innerWidth","addEventListener","link","href","location","data","usersName","JSON","parse","savedChanges","index","value","$ec02d5e098e8e7bc$var$restoreClassChanges","e","console","error","message","userInfo1","userInfoJSON","input","id","stringify","trim","user_password","removeItem","target","closest","matches","elements","Array","from","map"],"version":3,"file":"shoplist.36292f82.js.map"}