const e=document.querySelectorAll(".navigation a"),t=document.querySelector(".menu-burger-link"),s=document.querySelector(".menu-close-link"),a=document.querySelector(".dropdown-menu"),n=document.getElementById("switch-theme"),l=document.querySelector(".authorization-btn.dropdown"),o=document.querySelector("[data-modal-close-up]"),i=document.querySelector("[data-modal-close-in]"),d=document.querySelector(".sign-link.up"),r=document.querySelector(".sign-link.in"),c=document.querySelector("[data-modal-up]"),u=document.querySelector("[data-modal-in]"),m=document.querySelector(".sign-up-form"),g=document.querySelector(".sign-up-form.in"),v=document.querySelectorAll(".user-name"),h=document.querySelector(".logout-button.dropdown"),y=document.querySelector(".dropdown-authorized"),L=document.querySelector(".authorization-btn.header"),S=document.querySelector(".user-account-button"),f=document.querySelector(".navigation-menu"),p=document.querySelector(".logout-group");let q,E=localStorage.getItem("ui-theme"),k={},w={};function b(){v.forEach((e=>{e.textContent=k.user_name}))}function I(e){e&&e.preventDefault(),c.classList.add("is-hidden"),u.classList.remove("is-hidden"),document.body.classList.add("no-scroll")}function D(e){e&&e.preventDefault(),c.classList.remove("is-hidden"),u.classList.add("is-hidden"),document.body.classList.add("no-scroll")}function _(){c.classList.add("is-hidden"),u.classList.add("is-hidden"),m.reset(),g.reset(),document.body.classList.remove("no-scroll")}function O(){a.classList.toggle("visually-hidden"),t.classList.toggle("visually-hidden"),s.classList.toggle("visually-hidden"),a.classList.contains("visually-hidden")?document.body.classList.add("no-scroll"):document.body.classList.remove("no-scroll")}function A(){sessionStorage.setItem("statusSubmitted","true")}function J(){sessionStorage.clear(),k={},w={},window.innerWidth<768&&O(),l.classList.toggle("visually-hidden"),y.classList.toggle("visually-hidden"),s.classList.add("visually-hidden"),p.classList.add("visually-hidden"),L.classList.toggle("visually-hidden")}n.classList.toggle("checked","dark"===E),window.addEventListener("DOMContentLoaded",(()=>{e.forEach((e=>{e.href===window.location.href?e.classList.add("active"):e.classList.remove("active")})),function(){const e=localStorage.getItem("userData"),t=JSON.parse(e);t&&(k.user_name=t.user_name,b());const s=sessionStorage.getItem("classChanges");if(s){const e=JSON.parse(s);document.querySelectorAll(".save").forEach(((t,s)=>{t.classList.value=e[s]}))}}()})),l.addEventListener("click",D),t.addEventListener("click",(function(e){e.preventDefault();let t="";try{const e=localStorage.getItem("userData");if(q=JSON.parse(e),t=sessionStorage.getItem("statusSubmitted"),"true"===t)l.classList.add("visually-hidden"),y.classList.toggle("visually-hidden"),k.user_name=q.user_name,b(),O();else{localStorage.getItem("userData")?I():O()}}catch{console.error(error.message)}})),n.addEventListener("change",(function(){n.classList.toggle("checked"),localStorage.setItem("ui-theme",n.classList.contains("checked")?"dark":"light")})),d.addEventListener("click",I),r.addEventListener("click",D),o.addEventListener("click",_),i.addEventListener("click",_),m.addEventListener("submit",(function(e){return e.preventDefault(),document.body.classList.remove("no-scroll"),A(),m.querySelectorAll(".modal-input").forEach((e=>{k[e.id]=e.value})),function(e){let t=JSON.stringify(e);localStorage.setItem("userData",t)}(k),m.reset(),b(),L.classList.add("visually-hidden"),S.classList.remove("visually-hidden"),_(),O(),window.innerWidth>768&&(s.classList.add("visually-hidden"),f.classList.remove("visually-hidden")),k})),g.addEventListener("submit",(function(e){e.preventDefault(),g.querySelectorAll(".modal-input").forEach((e=>{w[e.id]=e.value.trim()}));try{const e=localStorage.getItem("userData");if(!e)return;q=JSON.parse(e)}catch(e){console.error(e.message)}w.user_name===q.user_name&&w.user_password===q.user_password&&(k.user_name=w.user_name,window.innerWidth>768&&(L.classList.toggle("visually-hidden"),S.classList.toggle("visually-hidden"),f.classList.remove("visually-hidden")),_(),b(),A())})),h.addEventListener("click",J),L.addEventListener("click",(function(e){e.preventDefault();let t="";try{const e=localStorage.getItem("userData");if(q=JSON.parse(e),t=sessionStorage.getItem("statusSubmitted"),"true"===t)k.user_name=q.user_name,b(),f.classList.remove("visually-hidden"),L.classList.add("visually-hidden"),S.classList.remove("visually-hidden");else{sessionStorage.removeItem("classChanges");localStorage.getItem("userData")?I():D()}}catch{console.error(error.message)}})),S.addEventListener("click",(function(e){S.classList.add("visually-hidden"),p.classList.remove("visually-hidden")})),p.addEventListener("click",(function(e){e.target.closest(".logout-button.header")||e.target.matches(".asking-logout.light")?(p.classList.add("visually-hidden"),S.classList.remove("visually-hidden"),L.classList.add("visually-hidden")):J()})),window.addEventListener("beforeunload",(function(){const e=document.querySelectorAll(".save"),t=Array.from(e).map((e=>e.classList.value));sessionStorage.setItem("classChanges",JSON.stringify(t))}));
//# sourceMappingURL=shoplist.bc4202bb.js.map
