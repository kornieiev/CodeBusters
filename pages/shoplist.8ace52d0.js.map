{"mappings":"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","sources":["src/components/header.js"],"sourcesContent":["const links = document.querySelectorAll('.navigation a');\nconst burgerEl = document.querySelector('.menu-burger-link');\nconst closeEl = document.querySelector('.menu-close-link');\nconst dropMenuEl = document.querySelector('.dropdown-menu');\nconst switchEl = document.getElementById('switch-theme');\nconst authBtn = document.querySelector(\".authorization-btn.dropdown\");\nconst closeFirstModalBtn = document.querySelector(\"[data-modal-close-up]\");\nconst closeSecondModalBtn = document.querySelector(\"[data-modal-close-in]\");\nconst signUpBtn = document.querySelector(\".sign-link.up\");\nconst signInBtn = document.querySelector(\".sign-link.in\");\nconst modalUp = document.querySelector(\"[data-modal-up]\");\nconst modalIn = document.querySelector(\"[data-modal-in]\");\nconst signUpForm = document.querySelector(\".sign-up-form\");\nconst signInForm = document.querySelector(\".sign-up-form.in\");\nconst userNameEls = document.querySelectorAll(\".user-name\");\nconst logOutBtn = document.querySelector(\".logout-button.dropdown\");\nconst authEl = document.querySelector(\".dropdown-authorized\");\nconst authHeaderBtn = document.querySelector(\".authorization-btn.header\");\nconst autSubmitHeaderBtn = document.querySelector(\".user-account-button\");\nconst navMenuEl = document.querySelector(\".navigation-menu\");\nconst logOutHeader = document.querySelector(\".logout-group\");\n\nlet savedTheme = localStorage.getItem(\"ui-theme\");\nlet KEY = 'userData';\nlet userInfo = {};\nlet submitInfo = {};\nlet feedback;\n\nfunction toggleActivePage (event) {\n    links.forEach(link => {\n        if (link.href === window.location.href) {\n            link.classList.add('active');\n        } else {\n            link.classList.remove('active');\n        }\n    });\n}\n\nfunction toggleSwitchEl() {\n    switchEl.classList.toggle('checked');\n    localStorage.setItem(\"ui-theme\", switchEl.classList.contains('checked') ? 'dark' : 'light');\n}\n  \nswitchEl.classList.toggle('checked', savedTheme === 'dark');\n\n\nfunction initUser () {\n    userNameEls.forEach((element) => {\n        element.textContent = userInfo.user_name;\n    });\n}\n\nfunction setToLocalStorage (userInfo) {\n    let userInfoJSON = JSON.stringify(userInfo);\n    localStorage.setItem(KEY, userInfoJSON);\n}\n\nfunction collectFormData(event) {\n    event.preventDefault();\n    setSubmitStatus();\n\n    const inputs = signUpForm.querySelectorAll('.modal-input');\n    inputs.forEach((input) => {\n        userInfo[input.id] = input.value;\n    });\n    setToLocalStorage (userInfo);\n    signUpForm.reset();\n    initUser ();\n    authHeaderBtn.classList.add('visually-hidden');\n    autSubmitHeaderBtn.classList.remove('visually-hidden');\n    \n    closeModal();\n    toggleDropMenu();\n    if (window.innerWidth > 768) {\n        closeEl.classList.add('visually-hidden');\n        navMenuEl.classList.remove('visually-hidden');\n\n    }\n    return userInfo;\n  }\n\nfunction toggleModalWindow () {\n    modalUp.classList.remove('is-hidden');\n    document.body.classList.toggle('no-scroll');\n}\n\nfunction openSecondModal (event) {\n    if (event) {\n        event.preventDefault();\n    }\n    modalUp.classList.add('is-hidden');\n    modalIn.classList.remove('is-hidden');\n    document.body.classList.add('no-scroll');\n}\n\nfunction openFirstModal (event) {\n    if (event) {\n        event.preventDefault();\n    }\n    modalUp.classList.remove('is-hidden');\n    modalIn.classList.add('is-hidden');\n    document.body.classList.add('no-scroll');\n    \n}\n\nfunction closeModal () {\n    modalUp.classList.add('is-hidden');\n    modalIn.classList.add('is-hidden');\n    signUpForm.reset();\n    signInForm.reset();\n    document.body.classList.remove('no-scroll');\n}\n\nfunction toggleDropMenu () {\n    dropMenuEl.classList.toggle('visually-hidden');\n    burgerEl.classList.toggle('visually-hidden');\n    closeEl.classList.toggle('visually-hidden');\n    document.body.classList.toggle('no-scroll');\n}\n\nfunction setSubmitStatus () {\n    sessionStorage.setItem('statusSubmitted', 'true');\n}\n\nfunction checkUserData (event) {\n    event.preventDefault();\n    const inputs = signInForm.querySelectorAll('.modal-input');\n  \n    inputs.forEach((input) => {\n        submitInfo[input.id] = input.value.trim();\n    });\n    try {\n        const data = localStorage.getItem(KEY);\n        if (!data) return;\n        feedback = JSON.parse(data);\n    } catch (error) {\n        console.error(error.message);\n      }\n     \n    if (submitInfo.user_name === feedback.user_name && submitInfo.user_password === feedback.user_password) {\n        // isSignUpFormSubmitted = true;\n        userInfo.user_name = submitInfo.user_name;\n        if (window.innerWidth > 768) {\n        authHeaderBtn.classList.toggle('visually-hidden');\n        autSubmitHeaderBtn.classList.toggle('visually-hidden');\n        navMenuEl.classList.remove('visually-hidden');\n        }\n        closeModal();\n        initUser ();\n        setSubmitStatus();\n    }\n}\n\nfunction openMenu (event) {\n    event.preventDefault();\n    let status = '';\n    try {\n        const data = localStorage.getItem(KEY);\n        feedback = JSON.parse(data);\n        status = sessionStorage.getItem('statusSubmitted');\n        if (status === 'true') {\n\n            authBtn.classList.add('visually-hidden');\n            authEl.classList.toggle('visually-hidden');\n            userInfo.user_name = feedback.user_name;\n            initUser();\n            toggleDropMenu();\n\n        } else {\n            const data = localStorage.getItem(KEY);\n            if (!data) {\n                toggleDropMenu();\n            } else {\n                openSecondModal();\n            } \n        }\n    } catch {\n        console.error(error.message);\n    }\n}\n\nfunction openMenuTablet (event) {\n    event.preventDefault();\n    let status = '';\n    try {\n        const data = localStorage.getItem(KEY);\n        feedback = JSON.parse(data);\n        status = sessionStorage.getItem('statusSubmitted');\n        if (status === 'true') {\n            userInfo.user_name = feedback.user_name;\n            initUser();\n            navMenuEl.classList.remove('visually-hidden');\n            authHeaderBtn.classList.add('visually-hidden');\n            autSubmitHeaderBtn.classList.remove('visually-hidden');\n            \n        } else {\n            sessionStorage.removeItem('classChanges');\n            const data = localStorage.getItem(KEY);\n            if (!data) {\n                openFirstModal();\n            } else {\n                openSecondModal();\n            } \n        }\n    } catch {\n        console.error(error.message);\n    }\n}\n\nfunction checkAuth () {\n    let status = '';\n    try {\n        const data = localStorage.getItem(KEY);\n        feedback = JSON.parse(data);\n        status = sessionStorage.getItem('statusSubmitted');\n        if (status === 'true') {\n            userInfo.user_name = feedback.user_name;\n            initUser();\n            authHeaderBtn.classList.add('visually-hidden');\n            autSubmitHeaderBtn.classList.remove('visually-hidden');\n            \n        } \n    } catch {\n        console.error(error.message);\n    }\n}\n\nfunction makeLogOut () {\n    \n    // localStorage.clear();\n    sessionStorage.clear();\n    userInfo = {};\n    submitInfo = {};\n    if (window.innerWidth < 768) {\n        toggleDropMenu();  \n    }\n    \n    authBtn.classList.toggle('visually-hidden');\n    authEl.classList.toggle('visually-hidden');\n    closeEl.classList.add('visually-hidden');\n    logOutHeader.classList.add('visually-hidden');\n    authHeaderBtn.classList.toggle('visually-hidden');\n}\n\nfunction askLogout (event) {\n    autSubmitHeaderBtn.classList.add('visually-hidden');\n    logOutHeader.classList.remove('visually-hidden');\n}\n\nfunction saveClassChanges() {\n    const elements = document.querySelectorAll('.save');\n    const classList = Array.from(elements).map((element) => element.classList.value);\n    sessionStorage.setItem('classChanges', JSON.stringify(classList));\n}\n  \nfunction restoreClassChanges() {\n    \n    const data = localStorage.getItem('userData');\n    const usersName = JSON.parse(data);\n    if (usersName) {\n        userInfo.user_name = usersName.user_name;\n        initUser ();\n      \n    }\n\n    const savedChanges = sessionStorage.getItem('classChanges');\n    if (savedChanges) {\n      const classList = JSON.parse(savedChanges);\n      const elements = document.querySelectorAll('.save');\n      elements.forEach((element, index) => {\n        element.classList.value = classList[index];\n      });\n    }\n}\n\nfunction doingLogOut (event) {\n    if (event.target.closest('.logout-button.header') || event.target.matches('.asking-logout.light')) {\n        logOutHeader.classList.add('visually-hidden');\n        autSubmitHeaderBtn.classList.remove('visually-hidden');\n        authHeaderBtn.classList.add('visually-hidden');\n    } else {\n        makeLogOut();\n    }\n}\n\nwindow.addEventListener('DOMContentLoaded', () => {\n    toggleActivePage();\n    restoreClassChanges();\n});\nauthBtn.addEventListener('click', openFirstModal);\n// authEl.addEventListener('click', openFirstModal);\nburgerEl.addEventListener('click', openMenu);\nswitchEl.addEventListener('change', toggleSwitchEl);\nsignUpBtn.addEventListener('click', openSecondModal);\nsignInBtn.addEventListener('click', openFirstModal);\ncloseFirstModalBtn.addEventListener('click', closeModal);\ncloseSecondModalBtn.addEventListener('click', closeModal);\nsignUpForm.addEventListener('submit', collectFormData);\nsignInForm.addEventListener('submit', checkUserData);\nlogOutBtn.addEventListener('click', makeLogOut);\nauthHeaderBtn.addEventListener('click', openMenuTablet);\nautSubmitHeaderBtn.addEventListener('click', askLogout);\nlogOutHeader.addEventListener('click', doingLogOut);\n\nwindow.addEventListener('beforeunload', saveClassChanges);\n"],"names":["$0005258c7ec188e8$var$links","document","querySelectorAll","$0005258c7ec188e8$var$burgerEl","querySelector","$0005258c7ec188e8$var$closeEl","$0005258c7ec188e8$var$dropMenuEl","$0005258c7ec188e8$var$switchEl","getElementById","$0005258c7ec188e8$var$authBtn","$0005258c7ec188e8$var$closeFirstModalBtn","$0005258c7ec188e8$var$closeSecondModalBtn","$0005258c7ec188e8$var$signUpBtn","$0005258c7ec188e8$var$signInBtn","$0005258c7ec188e8$var$modalUp","$0005258c7ec188e8$var$modalIn","$0005258c7ec188e8$var$signUpForm","$0005258c7ec188e8$var$signInForm","$0005258c7ec188e8$var$userNameEls","$0005258c7ec188e8$var$logOutBtn","$0005258c7ec188e8$var$authEl","$0005258c7ec188e8$var$authHeaderBtn","$0005258c7ec188e8$var$autSubmitHeaderBtn","$0005258c7ec188e8$var$navMenuEl","$0005258c7ec188e8$var$logOutHeader","$0005258c7ec188e8$var$feedback","$0005258c7ec188e8$var$savedTheme","localStorage","getItem","$0005258c7ec188e8$var$userInfo","$0005258c7ec188e8$var$submitInfo","$0005258c7ec188e8$var$initUser","forEach","element","textContent","user_name","$0005258c7ec188e8$var$openSecondModal","event","preventDefault","classList","add","remove","body","$0005258c7ec188e8$var$openFirstModal","$0005258c7ec188e8$var$closeModal","reset","$0005258c7ec188e8$var$toggleDropMenu","toggle","$0005258c7ec188e8$var$setSubmitStatus","sessionStorage","setItem","$0005258c7ec188e8$var$makeLogOut","clear","window","innerWidth","addEventListener","link","href","location","data","usersName","JSON","parse","savedChanges","index","value","$0005258c7ec188e8$var$restoreClassChanges","status","console","error","message","contains","input","id","userInfo1","userInfoJSON","stringify","$0005258c7ec188e8$var$setToLocalStorage","trim","user_password","removeItem","target","closest","matches","elements","Array","from","map"],"version":3,"file":"shoplist.8ace52d0.js.map"}