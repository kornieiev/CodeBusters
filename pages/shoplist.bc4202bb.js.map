{"mappings":"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","sources":["src/components/header.js"],"sourcesContent":["const links = document.querySelectorAll('.navigation a');\nconst burgerEl = document.querySelector('.menu-burger-link');\nconst closeEl = document.querySelector('.menu-close-link');\nconst dropMenuEl = document.querySelector('.dropdown-menu');\nconst switchEl = document.getElementById('switch-theme');\nconst authBtn = document.querySelector(\".authorization-btn.dropdown\");\nconst closeFirstModalBtn = document.querySelector(\"[data-modal-close-up]\");\nconst closeSecondModalBtn = document.querySelector(\"[data-modal-close-in]\");\nconst signUpBtn = document.querySelector(\".sign-link.up\");\nconst signInBtn = document.querySelector(\".sign-link.in\");\nconst modalUp = document.querySelector(\"[data-modal-up]\");\nconst modalIn = document.querySelector(\"[data-modal-in]\");\nconst signUpForm = document.querySelector(\".sign-up-form\");\nconst signInForm = document.querySelector(\".sign-up-form.in\");\nconst userNameEls = document.querySelectorAll(\".user-name\");\nconst logOutBtn = document.querySelector(\".logout-button.dropdown\");\nconst authEl = document.querySelector(\".dropdown-authorized\");\nconst authHeaderBtn = document.querySelector(\".authorization-btn.header\");\nconst autSubmitHeaderBtn = document.querySelector(\".user-account-button\");\nconst navMenuEl = document.querySelector(\".navigation-menu\");\nconst logOutHeader = document.querySelector(\".logout-group\");\n\nlet savedTheme = localStorage.getItem(\"ui-theme\");\nlet KEY = 'userData';\nlet userInfo = {};\nlet submitInfo = {};\nlet feedback;\n\nfunction toggleActivePage (event) {\n    links.forEach(link => {\n        if (link.href === window.location.href) {\n            link.classList.add('active');\n        } else {\n            link.classList.remove('active');\n        }\n    });\n}\n\nfunction toggleSwitchEl() {\n    switchEl.classList.toggle('checked');\n    localStorage.setItem(\"ui-theme\", switchEl.classList.contains('checked') ? 'dark' : 'light');\n}\n  \nswitchEl.classList.toggle('checked', savedTheme === 'dark');\n\n\nfunction initUser () {\n    userNameEls.forEach((element) => {\n        element.textContent = userInfo.user_name;\n    });\n}\n\nfunction setToLocalStorage (userInfo) {\n    let userInfoJSON = JSON.stringify(userInfo);\n    localStorage.setItem(KEY, userInfoJSON);\n}\n\nfunction collectFormData(event) {\n    event.preventDefault();\n    document.body.classList.remove('no-scroll');\n    setSubmitStatus();\n\n    const inputs = signUpForm.querySelectorAll('.modal-input');\n    inputs.forEach((input) => {\n        userInfo[input.id] = input.value;\n    });\n    setToLocalStorage (userInfo);\n    signUpForm.reset();\n    initUser ();\n    authHeaderBtn.classList.add('visually-hidden');\n    autSubmitHeaderBtn.classList.remove('visually-hidden');\n    \n\n    closeModal();\n    toggleDropMenu();\n    \n    if (window.innerWidth > 768) {\n        closeEl.classList.add('visually-hidden');\n        navMenuEl.classList.remove('visually-hidden');\n\n    }\n    return userInfo;\n  }\n\nfunction toggleModalWindow () {\n    modalUp.classList.remove('is-hidden');\n    document.body.classList.add('no-scroll');\n}\n\nfunction openSecondModal (event) {\n    if (event) {\n        event.preventDefault();\n    }\n    modalUp.classList.add('is-hidden');\n    modalIn.classList.remove('is-hidden');\n    document.body.classList.add('no-scroll');\n}\n\nfunction openFirstModal (event) {\n    if (event) {\n        event.preventDefault();\n    }\n    modalUp.classList.remove('is-hidden');\n    modalIn.classList.add('is-hidden');\n    document.body.classList.add('no-scroll');\n    \n}\n\nfunction closeModal () {\n    modalUp.classList.add('is-hidden');\n    modalIn.classList.add('is-hidden');\n    signUpForm.reset();\n    signInForm.reset();\n    document.body.classList.remove('no-scroll');\n}\n\nfunction toggleDropMenu () {\n    dropMenuEl.classList.toggle('visually-hidden');\n    burgerEl.classList.toggle('visually-hidden');\n    closeEl.classList.toggle('visually-hidden');\n    if (dropMenuEl.classList.contains('visually-hidden')) {\n        document.body.classList.add('no-scroll');\n    } else {\n        document.body.classList.remove('no-scroll');\n    };\n\n    \n}\n\nfunction setSubmitStatus () {\n    sessionStorage.setItem('statusSubmitted', 'true');\n}\n\nfunction checkUserData (event) {\n    event.preventDefault();\n    const inputs = signInForm.querySelectorAll('.modal-input');\n  \n    inputs.forEach((input) => {\n        submitInfo[input.id] = input.value.trim();\n    });\n    try {\n        const data = localStorage.getItem(KEY);\n        if (!data) return;\n        feedback = JSON.parse(data);\n    } catch (error) {\n        console.error(error.message);\n      }\n     \n    if (submitInfo.user_name === feedback.user_name && submitInfo.user_password === feedback.user_password) {\n        // isSignUpFormSubmitted = true;\n        userInfo.user_name = submitInfo.user_name;\n        if (window.innerWidth > 768) {\n        authHeaderBtn.classList.toggle('visually-hidden');\n        autSubmitHeaderBtn.classList.toggle('visually-hidden');\n        navMenuEl.classList.remove('visually-hidden');\n        }\n        closeModal();\n        initUser ();\n        setSubmitStatus();\n    }\n}\n\nfunction openMenu (event) {\n    event.preventDefault();\n    let status = '';\n    try {\n        const data = localStorage.getItem(KEY);\n        feedback = JSON.parse(data);\n        status = sessionStorage.getItem('statusSubmitted');\n        if (status === 'true') {\n\n            authBtn.classList.add('visually-hidden');\n            authEl.classList.toggle('visually-hidden');\n            userInfo.user_name = feedback.user_name;\n            initUser();\n            toggleDropMenu();\n\n        } else {\n            const data = localStorage.getItem(KEY);\n            if (!data) {\n                toggleDropMenu();\n            } else {\n                openSecondModal();\n            } \n        }\n    } catch {\n        console.error(error.message);\n    }\n}\n\nfunction openMenuTablet (event) {\n    event.preventDefault();\n    let status = '';\n    try {\n        const data = localStorage.getItem(KEY);\n        feedback = JSON.parse(data);\n        status = sessionStorage.getItem('statusSubmitted');\n        if (status === 'true') {\n            userInfo.user_name = feedback.user_name;\n            initUser();\n            navMenuEl.classList.remove('visually-hidden');\n            authHeaderBtn.classList.add('visually-hidden');\n            autSubmitHeaderBtn.classList.remove('visually-hidden');\n            \n        } else {\n            sessionStorage.removeItem('classChanges');\n            const data = localStorage.getItem(KEY);\n            if (!data) {\n                openFirstModal();\n            } else {\n                openSecondModal();\n            } \n        }\n    } catch {\n        console.error(error.message);\n    }\n}\n\nfunction checkAuth () {\n    let status = '';\n    try {\n        const data = localStorage.getItem(KEY);\n        feedback = JSON.parse(data);\n        status = sessionStorage.getItem('statusSubmitted');\n        if (status === 'true') {\n            userInfo.user_name = feedback.user_name;\n            initUser();\n            authHeaderBtn.classList.add('visually-hidden');\n            autSubmitHeaderBtn.classList.remove('visually-hidden');\n            \n        } \n    } catch {\n        console.error(error.message);\n    }\n}\n\nfunction makeLogOut () {\n    \n    // localStorage.clear();\n    sessionStorage.clear();\n    userInfo = {};\n    submitInfo = {};\n    if (window.innerWidth < 768) {\n        toggleDropMenu();  \n    }\n    \n    authBtn.classList.toggle('visually-hidden');\n    authEl.classList.toggle('visually-hidden');\n    closeEl.classList.add('visually-hidden');\n    logOutHeader.classList.add('visually-hidden');\n    authHeaderBtn.classList.toggle('visually-hidden');\n}\n\nfunction askLogout (event) {\n    autSubmitHeaderBtn.classList.add('visually-hidden');\n    logOutHeader.classList.remove('visually-hidden');\n}\n\nfunction saveClassChanges() {\n    const elements = document.querySelectorAll('.save');\n    const classList = Array.from(elements).map((element) => element.classList.value);\n    sessionStorage.setItem('classChanges', JSON.stringify(classList));\n}\n  \nfunction restoreClassChanges() {\n    \n    const data = localStorage.getItem('userData');\n    const usersName = JSON.parse(data);\n    if (usersName) {\n        userInfo.user_name = usersName.user_name;\n        initUser ();\n      \n    }\n\n    const savedChanges = sessionStorage.getItem('classChanges');\n    if (savedChanges) {\n      const classList = JSON.parse(savedChanges);\n      const elements = document.querySelectorAll('.save');\n      elements.forEach((element, index) => {\n        element.classList.value = classList[index];\n      });\n    }\n}\n\nfunction doingLogOut (event) {\n    if (event.target.closest('.logout-button.header') || event.target.matches('.asking-logout.light')) {\n        logOutHeader.classList.add('visually-hidden');\n        autSubmitHeaderBtn.classList.remove('visually-hidden');\n        authHeaderBtn.classList.add('visually-hidden');\n    } else {\n        makeLogOut();\n    }\n}\n\nwindow.addEventListener('DOMContentLoaded', () => {\n    toggleActivePage();\n    restoreClassChanges();\n});\nauthBtn.addEventListener('click', openFirstModal);\n// authEl.addEventListener('click', openFirstModal);\nburgerEl.addEventListener('click', openMenu);\nswitchEl.addEventListener('change', toggleSwitchEl);\nsignUpBtn.addEventListener('click', openSecondModal);\nsignInBtn.addEventListener('click', openFirstModal);\ncloseFirstModalBtn.addEventListener('click', closeModal);\ncloseSecondModalBtn.addEventListener('click', closeModal);\nsignUpForm.addEventListener('submit', collectFormData);\nsignInForm.addEventListener('submit', checkUserData);\nlogOutBtn.addEventListener('click', makeLogOut);\nauthHeaderBtn.addEventListener('click', openMenuTablet);\nautSubmitHeaderBtn.addEventListener('click', askLogout);\nlogOutHeader.addEventListener('click', doingLogOut);\n\nwindow.addEventListener('beforeunload', saveClassChanges);\n"],"names":["$0005258c7ec188e8$var$links","document","querySelectorAll","$0005258c7ec188e8$var$burgerEl","querySelector","$0005258c7ec188e8$var$closeEl","$0005258c7ec188e8$var$dropMenuEl","$0005258c7ec188e8$var$switchEl","getElementById","$0005258c7ec188e8$var$authBtn","$0005258c7ec188e8$var$closeFirstModalBtn","$0005258c7ec188e8$var$closeSecondModalBtn","$0005258c7ec188e8$var$signUpBtn","$0005258c7ec188e8$var$signInBtn","$0005258c7ec188e8$var$modalUp","$0005258c7ec188e8$var$modalIn","$0005258c7ec188e8$var$signUpForm","$0005258c7ec188e8$var$signInForm","$0005258c7ec188e8$var$userNameEls","$0005258c7ec188e8$var$logOutBtn","$0005258c7ec188e8$var$authEl","$0005258c7ec188e8$var$authHeaderBtn","$0005258c7ec188e8$var$autSubmitHeaderBtn","$0005258c7ec188e8$var$navMenuEl","$0005258c7ec188e8$var$logOutHeader","$0005258c7ec188e8$var$feedback","$0005258c7ec188e8$var$savedTheme","localStorage","getItem","$0005258c7ec188e8$var$userInfo","$0005258c7ec188e8$var$submitInfo","$0005258c7ec188e8$var$initUser","forEach","element","textContent","user_name","$0005258c7ec188e8$var$openSecondModal","event","preventDefault","classList","add","remove","body","$0005258c7ec188e8$var$openFirstModal","$0005258c7ec188e8$var$closeModal","reset","$0005258c7ec188e8$var$toggleDropMenu","toggle","contains","$0005258c7ec188e8$var$setSubmitStatus","sessionStorage","setItem","$0005258c7ec188e8$var$makeLogOut","clear","window","innerWidth","addEventListener","link","href","location","data","usersName","JSON","parse","savedChanges","index","value","$0005258c7ec188e8$var$restoreClassChanges","status","console","error","message","input","id","userInfo1","userInfoJSON","stringify","$0005258c7ec188e8$var$setToLocalStorage","trim","user_password","removeItem","target","closest","matches","elements","Array","from","map"],"version":3,"file":"shoplist.bc4202bb.js.map"}